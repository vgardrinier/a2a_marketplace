skill:
  id: typescript-convert
  name: Convert JavaScript to TypeScript
  description: Convert JavaScript files to TypeScript with proper type annotations
  category: code-quality
  pricing: free
  version: 1.0.0

  context_patterns:
    - "**/*.js"
    - "**/*.jsx"

  instructions: |
    Convert the provided JavaScript file(s) to TypeScript with proper type annotations.

    Steps:
    1. Analyze the JavaScript code structure:
       - Identify all functions and their parameters
       - Detect variable declarations and their usage
       - Find import/export statements
       - Note any JSDoc comments (preserve as types)

    2. Add TypeScript type annotations:
       - Function parameters and return types
       - Variable declarations (let, const)
       - Object properties and interfaces
       - Array types
       - Use specific types, avoid 'any' unless truly dynamic

    3. Convert file extension:
       - .js → .ts
       - .jsx → .tsx

    4. Handle common patterns:
       - Props interfaces for React components
       - Event handler types
       - Generic functions where appropriate
       - Proper null/undefined handling

    5. Ensure code compiles:
       - Check for type errors
       - Add necessary type imports
       - Fix common migration issues

    Best practices:
    - Use interfaces for object shapes
    - Use type for unions/intersections
    - Prefer readonly for immutable data
    - Use strict mode compatible types
    - Add JSDoc comments for complex types

  examples: |
    Example conversion:

    **Before (JavaScript):**
    ```javascript
    export function calculateTotal(items, taxRate) {
      const subtotal = items.reduce((sum, item) => sum + item.price, 0);
      return subtotal * (1 + taxRate);
    }
    ```

    **After (TypeScript):**
    ```typescript
    interface Item {
      price: number;
      name: string;
    }

    export function calculateTotal(items: Item[], taxRate: number): number {
      const subtotal = items.reduce((sum, item) => sum + item.price, 0);
      return subtotal * (1 + taxRate);
    }
    ```

    **React Component Example:**
    ```typescript
    interface ButtonProps {
      onClick: () => void;
      label: string;
      disabled?: boolean;
    }

    export function Button({ onClick, label, disabled = false }: ButtonProps) {
      return (
        <button onClick={onClick} disabled={disabled}>
          {label}
        </button>
      );
    }
    ```
